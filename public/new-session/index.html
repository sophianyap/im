<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <title>Patient Information</title>
    <link rel="icon" type="image/png" href="assets\dentistry.png">

</head>

<body>
   <div id="loading-overlay">
        <section class="dots-container">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </section>
    </div>

   
    <div class="top-part2">
        <div class="left-side-top">
            <a href="/patient-info/index.html">
                <button id="home-button">
                    <img id="go-home" src="/assets/back button.png" alt="back">
                </button>
            </a>
        </div>
        <div class="center-top">
            <h1 class="new-ds">NEW DENTAL SESSION</h1>
            <p class="date-today-ds">Friday- March 07, 2025</p>
        </div>

    </div>
    <div class="big-blue-bg2">
        

        <h3 id="title-name">SERVICE</h3>
        <div class="second-part-nds">
            <div class="tp-service">
                <h3 ID="add-ser-title">ADD SERVICE</h3>
                <button id="add-servicebtn">
                    +
                </button>
                <button id="add-toothchart">
                    ADD TOOTH CHART
                </button>
                

            </div>
            <div class="service-title-container">
                <h3 id="service-title">SERVICE</h3>
                <h3 id="service-title">STATUS</h3>
            </div>
            <div class="service-card">
                <div class="service-line">
                    <button id="delete-service">
                        x
                    </button>
                    <input class="tooth-input" placeholder="Tooth"> 
                    <select name="service" id="service" aria-placeholder="SERVICE">
                        <option value="" disabled selected>SERVICE</option>
                        

                    </select>
                    <span class="divider2">|</span>
                    <select name="remark" id="remarks">
                        <option value="complete">Complete</option>
                        <option value="incomplete">Incomplete</option>
                    </select>
                </div>
                <div class="tooth-chart">

                    <div class="service-title-container">
                        <h3>TOOTH CHART</h3> 
                        <button id="delete-tooth-chart">X</button>
                    </div> 
                    <div>
                        <img src="" alt="tooth-chart" id="tooth-chart-img">
                    </div>

                </div>
                
                <div class="service-title-container">
                    <h3 id="service-title">FINAL REMARKS</h3>
                    <button class="clear-btn">
                        CLEAR
                    </button>
                </div>
                <canvas id="final-remarks"></canvas>


                <div class="final-remarks-text">
                    <h3 id="remark"
                    >REMARKS:</h3>
                    <form  class="remarks-text">
                        <input id="remarks-text-input" type="text">
                    </form>
                </div>
                <div class="bottom-line">
                    
                    <a id="check-out-container" href="/billing/index.html">
                        <button id="check-out-btn">
                            BILLING & PRESCRIPTION
                        </button>
                    </a>
                </div>


                <script>
                    const canvas = document.getElementById("final-remarks");
                    const ctx = canvas.getContext("2d");
                    const saveBtn = document.getElementById("saveBtn");

                    let isDrawing = false;

                    canvas.addEventListener("mousedown", (e) => {
                        isDrawing = true;
                        ctx.beginPath();
                        ctx.moveTo(e.offsetX, e.offsetY);
                    });

                    canvas.addEventListener("mousemove", (e) => {
                        if (isDrawing) {
                            ctx.lineTo(e.offsetX, e.offsetY);
                            ctx.stroke();
                        }
                    });

                    canvas.addEventListener("mouseup", () => {
                        isDrawing = false;
                    });

                    canvas.addEventListener("mouseleave", () => {
                        isDrawing = false;
                    });

                    saveBtn.addEventListener("click", () => {
                        const image = canvas.toDataURL("image/png"); // Convert canvas to PNG
                        const link = document.createElement("a");
                        link.href = image;
                        link.download = "drawing.png";
                        link.click();
                    });
                </script>




            </div>

        </div>

    </div>

    </div>

    </div>


</body>

</html>